Version 4
SHEET 1 1512 1076
WIRE 336 304 304 304
WIRE 464 320 400 320
WIRE 672 320 464 320
WIRE 336 336 224 336
WIRE 672 336 672 320
WIRE 704 336 672 336
WIRE 224 352 224 336
WIRE 464 352 464 320
WIRE 512 352 464 352
WIRE 624 352 592 352
WIRE 704 352 624 352
WIRE 800 352 768 352
WIRE 912 352 880 352
WIRE 624 368 624 352
WIRE 992 400 992 320
WIRE 912 448 912 352
WIRE 928 448 912 448
WIRE 224 480 224 432
WIRE 992 528 992 496
WIRE 0 0 0 0
FLAG 992 528 0
FLAG -48 432 0
FLAG -160 432 0
FLAG 48 352 0
FLAG -160 352 3.3V
FLAG -48 352 15V
FLAG 48 432 -15V
FLAG 304 304 0
FLAG 224 480 0
FLAG 624 432 0
FLAG 368 352 0
FLAG 992 240 3.3V
FLAG 368 288 3.3V
SYMBOL voltage -160 336 R0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL voltage -48 336 R0
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL voltage 48 336 R0
SYMATTR InstName V3
SYMATTR Value 15
SYMBOL voltage 224 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(0 4 1k)
SYMBOL OpAmps/UniversalOpamp2 368 320 R0
SYMATTR InstName U2
SYMBOL res 496 368 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value 10K
SYMBOL cap 608 368 R0
SYMATTR InstName C1
SYMATTR Value 560p
SYMBOL Digital\\xor 752 304 R0
SYMATTR InstName A1
SYMATTR SpiceLine Vhigh=3.3V
SYMBOL res 976 224 R0
SYMATTR InstName R2
SYMATTR Value 1K
SYMBOL npn 928 400 R0
SYMATTR InstName Q1
SYMBOL res 784 368 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value 1K
TEXT 528 528 Left 2 !.tran 2m
TEXT -24 184 Left 2 ;When using a dedicated op amp, 0-Vlogic rails can be used to limit op amp output
